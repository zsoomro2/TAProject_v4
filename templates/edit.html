{% extends 'base.html' %}
{% block content %}
    {% if isUser %}
        <h2>Edit User</h2>
        <form method="POST">
            {% csrf_token %}
            <label>First Name: <input type="text" name="fname" value="{{ username.fname }}" required></label><br>
            <label>Last Name: <input type="text" name="lname" value="{{ username.lname }}" required></label><br>
            <label>Username: <input type="email" name="username" value="{{ username.username }}"></label><br>
            {% if request.session.role != 'TA' %}
                <label>Role: 
                    <select name="role">
                        {% for role in role_choices %}
                            <option value="{{ role.0 }}" {% if role.0 == username.role %}selected{% endif %}>{{ role.1 }}</option>
                        {% endfor %}
                    </select>
                </label><br>
                <h3>Edit Skills</h3>
                <label>
                    <input type="checkbox" name="java_skill" {% if username.java_skill %}checked{% endif %}> Java
                </label><br>
                <label>
                    <input type="checkbox" name="python_skill" {% if username.python_skill %}checked{% endif %}> Python
                </label><br>
                <label>
                    <input type="checkbox" name="frontend_skill" {% if username.frontend_skill %}checked{% endif %}> Frontend
                </label><br>
                <label>
                    <input type="checkbox" name="backend_skill" {% if username.backend_skill %}checked{% endif %}> Backend
                </label><br>
                <label>
                    <input type="checkbox" name="scala_skill" {% if username.scala_skill %}checked{% endif %}> Scala
                </label><br>
                <label>
                    <input type="checkbox" name="discrete_math_skill" {% if username.discrete_math_skill %}checked{% endif %}> Discrete Math
                </label><br>
            {% endif %}
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    {% endif %}
    {% if isCourse %}
        <h3>Edit "{{ username.Course_name }}"</h3>
        <form method="POST">
            {% csrf_token %}
            <p>
                <label>Course Name:</label>
                <input required type="text" name="CourseName" class="form-control" value="{{ username.Course_name }}">
            </p><br>
            <p>
                <label>Meet Type:</label>
                <select name="MeetType">  
                    <option selected>{{ username.MeetType }}</option>
                    {% for item in MeetType %}
                        {% if item.0 != username.MeetType %}
                            <option value="{{ item.0 }}">{{ item.0 }}</option> 
                        {% endif %}
                    {% endfor %}
                </select>
            </p><br>
            <p>
                <label>Description:</label><br>
                <textarea name="course_desc" rows="5" cols="50">{{ username.Course_description }}</textarea><br>
            </p>
            <input type="submit" value="Update" class="btn btn-primary"><br>
        </form>
    {% endif %}
{% endblock %}
